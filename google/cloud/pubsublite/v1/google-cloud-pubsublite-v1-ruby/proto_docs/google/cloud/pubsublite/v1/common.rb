# frozen_string_literal: true

# Copyright 2021 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Auto-generated by gapic-generator-ruby. DO NOT EDIT!


module Google
  module Cloud
    module PubSubLite
      module V1
        # The values associated with a key of an attribute.
        # @!attribute [rw] values
        #   @return [::Array<::String>]
        #     The list of values associated with a key.
        class AttributeValues
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods
        end

        # A message that is published by publishers and delivered to subscribers.
        # @!attribute [rw] key
        #   @return [::String]
        #     The key used for routing messages to partitions or for compaction (e.g.,
        #     keep the last N messages per key). If the key is empty, the message is
        #     routed to an arbitrary partition.
        # @!attribute [rw] data
        #   @return [::String]
        #     The payload of the message.
        # @!attribute [rw] attributes
        #   @return [::Google::Protobuf::Map{::String => ::Google::Cloud::PubSubLite::V1::AttributeValues}]
        #     Optional attributes that can be used for message metadata/headers.
        # @!attribute [rw] event_time
        #   @return [::Google::Protobuf::Timestamp]
        #     An optional, user-specified event time.
        class PubSubMessage
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods

          # @!attribute [rw] key
          #   @return [::String]
          # @!attribute [rw] value
          #   @return [::Google::Cloud::PubSubLite::V1::AttributeValues]
          class AttributesEntry
            include ::Google::Protobuf::MessageExts
            extend ::Google::Protobuf::MessageExts::ClassMethods
          end
        end

        # A cursor that describes the position of a message within a topic partition.
        # @!attribute [rw] offset
        #   @return [::Integer]
        #     The offset of a message within a topic partition. Must be greater than or
        #     equal 0.
        class Cursor
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods
        end

        # A message that has been stored and sequenced by the Pub/Sub Lite system.
        # @!attribute [rw] cursor
        #   @return [::Google::Cloud::PubSubLite::V1::Cursor]
        #     The position of a message within the partition where it is stored.
        # @!attribute [rw] publish_time
        #   @return [::Google::Protobuf::Timestamp]
        #     The time when the message was received by the server when it was first
        #     published.
        # @!attribute [rw] message
        #   @return [::Google::Cloud::PubSubLite::V1::PubSubMessage]
        #     The user message.
        # @!attribute [rw] size_bytes
        #   @return [::Integer]
        #     The size in bytes of this message for flow control and quota purposes.
        class SequencedMessage
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods
        end

        # Metadata about a reservation resource.
        # @!attribute [rw] name
        #   @return [::String]
        #     The name of the reservation.
        #     Structured like:
        #     projects/\\{project_number}/locations/\\{location}/reservations/\\{reservation_id}
        # @!attribute [rw] throughput_capacity
        #   @return [::Integer]
        #     The reserved throughput capacity. Every unit of throughput capacity is
        #     equivalent to 1 MiB/s of published messages or 2 MiB/s of subscribed
        #     messages.
        #
        #     Any topics which are declared as using capacity from a Reservation will
        #     consume resources from this reservation instead of being charged
        #     individually.
        class Reservation
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods
        end

        # Metadata about a topic resource.
        # @!attribute [rw] name
        #   @return [::String]
        #     The name of the topic.
        #     Structured like:
        #     projects/\\{project_number}/locations/\\{location}/topics/\\{topic_id}
        # @!attribute [rw] partition_config
        #   @return [::Google::Cloud::PubSubLite::V1::Topic::PartitionConfig]
        #     The settings for this topic's partitions.
        # @!attribute [rw] retention_config
        #   @return [::Google::Cloud::PubSubLite::V1::Topic::RetentionConfig]
        #     The settings for this topic's message retention.
        # @!attribute [rw] reservation_config
        #   @return [::Google::Cloud::PubSubLite::V1::Topic::ReservationConfig]
        #     The settings for this topic's Reservation usage.
        class Topic
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods

          # The settings for a topic's partitions.
          # @!attribute [rw] count
          #   @return [::Integer]
          #     The number of partitions in the topic. Must be at least 1.
          #
          #     Once a topic has been created the number of partitions can be increased
          #     but not decreased. Message ordering is not guaranteed across a topic
          #     resize. For more information see
          #     https://cloud.google.com/pubsub/lite/docs/topics#scaling_capacity
          # @!attribute [rw] scale
          #   @return [::Integer]
          #     DEPRECATED: Use capacity instead which can express a superset of
          #     configurations.
          #
          #     Every partition in the topic is allocated throughput equivalent to
          #     `scale` times the standard partition throughput (4 MiB/s). This is also
          #     reflected in the cost of this topic; a topic with `scale` of 2 and
          #     count of 10 is charged for 20 partitions. This value must be in the
          #     range [1,4].
          # @!attribute [rw] capacity
          #   @return [::Google::Cloud::PubSubLite::V1::Topic::PartitionConfig::Capacity]
          #     The capacity configuration.
          class PartitionConfig
            include ::Google::Protobuf::MessageExts
            extend ::Google::Protobuf::MessageExts::ClassMethods

            # The throughput capacity configuration for each partition.
            # @!attribute [rw] publish_mib_per_sec
            #   @return [::Integer]
            #     Publish throughput capacity per partition in MiB/s.
            #     Must be >= 4 and <= 16.
            # @!attribute [rw] subscribe_mib_per_sec
            #   @return [::Integer]
            #     Subscribe throughput capacity per partition in MiB/s.
            #     Must be >= 4 and <= 32.
            class Capacity
              include ::Google::Protobuf::MessageExts
              extend ::Google::Protobuf::MessageExts::ClassMethods
            end
          end

          # The settings for a topic's message retention.
          # @!attribute [rw] per_partition_bytes
          #   @return [::Integer]
          #     The provisioned storage, in bytes, per partition. If the number of bytes
          #     stored in any of the topic's partitions grows beyond this value, older
          #     messages will be dropped to make room for newer ones, regardless of the
          #     value of `period`.
          # @!attribute [rw] period
          #   @return [::Google::Protobuf::Duration]
          #     How long a published message is retained. If unset, messages will be
          #     retained as long as the bytes retained for each partition is below
          #     `per_partition_bytes`.
          class RetentionConfig
            include ::Google::Protobuf::MessageExts
            extend ::Google::Protobuf::MessageExts::ClassMethods
          end

          # The settings for this topic's Reservation usage.
          # @!attribute [rw] throughput_reservation
          #   @return [::String]
          #     The Reservation to use for this topic's throughput capacity.
          #     Structured like:
          #     projects/\\{project_number}/locations/\\{location}/reservations/\\{reservation_id}
          class ReservationConfig
            include ::Google::Protobuf::MessageExts
            extend ::Google::Protobuf::MessageExts::ClassMethods
          end
        end

        # Metadata about a subscription resource.
        # @!attribute [rw] name
        #   @return [::String]
        #     The name of the subscription.
        #     Structured like:
        #     projects/\\{project_number}/locations/\\{location}/subscriptions/\\{subscription_id}
        # @!attribute [rw] topic
        #   @return [::String]
        #     The name of the topic this subscription is attached to.
        #     Structured like:
        #     projects/\\{project_number}/locations/\\{location}/topics/\\{topic_id}
        # @!attribute [rw] delivery_config
        #   @return [::Google::Cloud::PubSubLite::V1::Subscription::DeliveryConfig]
        #     The settings for this subscription's message delivery.
        class Subscription
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods

          # The settings for a subscription's message delivery.
          # @!attribute [rw] delivery_requirement
          #   @return [::Google::Cloud::PubSubLite::V1::Subscription::DeliveryConfig::DeliveryRequirement]
          #     The DeliveryRequirement for this subscription.
          class DeliveryConfig
            include ::Google::Protobuf::MessageExts
            extend ::Google::Protobuf::MessageExts::ClassMethods

            # When this subscription should send messages to subscribers relative to
            # messages persistence in storage. For details, see [Creating Lite
            # subscriptions](https://cloud.google.com/pubsub/lite/docs/subscriptions#creating_lite_subscriptions).
            module DeliveryRequirement
              # Default value. This value is unused.
              DELIVERY_REQUIREMENT_UNSPECIFIED = 0

              # The server does not wait for a published message to be successfully
              # written to storage before delivering it to subscribers.
              DELIVER_IMMEDIATELY = 1

              # The server will not deliver a published message to subscribers until
              # the message has been successfully written to storage. This will result
              # in higher end-to-end latency, but consistent delivery.
              DELIVER_AFTER_STORED = 2
            end
          end
        end

        # A target publish or event time. Can be used for seeking to or retrieving the
        # corresponding cursor.
        # @!attribute [rw] publish_time
        #   @return [::Google::Protobuf::Timestamp]
        #     Request the cursor of the first message with publish time greater than or
        #     equal to `publish_time`. All messages thereafter are guaranteed to have
        #     publish times >= `publish_time`.
        # @!attribute [rw] event_time
        #   @return [::Google::Protobuf::Timestamp]
        #     Request the cursor of the first message with event time greater than or
        #     equal to `event_time`. If messages are missing an event time, the publish
        #     time is used as a fallback. As event times are user supplied, subsequent
        #     messages may have event times less than `event_time` and should be
        #     filtered by the client, if necessary.
        class TimeTarget
          include ::Google::Protobuf::MessageExts
          extend ::Google::Protobuf::MessageExts::ClassMethods
        end
      end
    end
  end
end
